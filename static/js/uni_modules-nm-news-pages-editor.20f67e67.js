(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["uni_modules-nm-news-pages-editor"],{"3a56":function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("9b1b"));n("e838"),n("5c47"),n("c223");var i=a(n("6a10")),s={data:function(){return{readOnly:!1,formats:{},newsId:"",params:{content:"",title:"",moduleId:"",addressName:"",lng:"",lat:"",cover:"",classificationId:""}}},onLoad:function(e){this.newsId=e.newsId,this.params.title=e.title,this.params.moduleId=e.id,this.params.classificationId=e.classificationId,this.params.addressName=e.addressName,this.params.lng=parseFloat(e.lng),this.params.lat=parseFloat(e.lat),this.params.cover=e.cover,console.log(e,"加载"),uni.loadFontFace({family:"Pacifico",source:'url("https://sungd.github.io/Pacifico.ttf")'}),this.getNewDetail()},methods:{getNewDetail:function(){var e=this,t=this;"undefined"!=this.newsId&&this.$http.get(i.default.getNewsDetail,{newsId:this.newsId}).then((function(n){console.log(n,"你好好小笨蛋"),t.params.content=n.result.content,n.result.content&&uni.createSelectorQuery().select("#editor").context((function(t){t&&t.context.setContents({html:e.params.content})})).exec()}))},readOnlyChange:function(){this.readOnly=!this.readOnly},blur:function(e){this.params.content=e.detail.html,console.log(this.content,e)},onEditorReady:function(){var e=this;uni.createSelectorQuery().select("#editor").context((function(t){e.editorCtx=t.context,console.log(e.editorCtx,"this.editorCtx")})).exec()},undo:function(){this.editorCtx.undo()},redo:function(){this.editorCtx.redo()},format:function(e){var t=e.target.dataset,n=t.name,a=t.value;n&&this.editorCtx.format(n,a)},onStatusChange:function(e){var t=e.detail;this.formats=t},insertDivider:function(){this.editorCtx.insertDivider({success:function(){console.log("insert divider success")}})},clear:function(){this.editorCtx.clear({success:function(e){console.log("clear success")}})},removeFormat:function(){this.editorCtx.removeFormat()},insertDate:function(){var e=new Date,t="".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate());this.editorCtx.insertText({text:t})},publishBtn:function(){var e=this;console.log(this.params);var t=(0,o.default)({},this.params);this.$http.post(i.default.getNewsAdd,t).then((function(t){console.log(t),e.$toast.showToast("发布成功"),uni.navigateTo({url:"./review"})}))},insertImage:function(){var e=this,t=this;uni.chooseImage({count:1,success:function(n){t.$http.uploadFile(n.tempFilePaths[0]).then((function(t){e.editorCtx.insertImage({src:t,alt:"图像",success:function(){console.log("insert image success")}})}))}})}}};t.default=s},"55d4":function(e,t,n){"use strict";n.r(t);var a=n("f529"),o=n("60ea");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("cbfc");var s=n("828b"),r=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"461f0b28",null,!1,a["a"],void 0);t["default"]=r.exports},"60ea":function(e,t,n){"use strict";n.r(t);var a=n("3a56"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},"6a10":function(e,t){e.exports={getModuleList:"module/default/news/portal/news-api/module/list",getNewsModule:"module/default/news/portal/news-api/module/get",getNewsCategory:"module/default/news/portal/news-api/classification/list",getNewsList:"module/default/news/portal/news-api/news/pageNewsBrief",getNewsDetail:"module/default/news/portal/news-api/news/detail",getNewsCollected:"module/default/news/portal/news-api/operation/page",cancelCollected:"module/default/news/portal/news-api/operation/cancelCollect",getNewsClassification:"module/default/news/portal/news-api/classification/page",getNewsAdd:"module/default/news/portal/news-api/news/add",getNewsMyself:"module/default/news/portal/news-api/news/pageNewsBriefForMyself",getNewsDel:"module/default/news/portal/news-api/news/del",getNewsSetShow:"module/default/news/portal/news-api/news/setShow",readNews:"module/default/news/portal/news-api/operation/read",getComment:"module/default/news/portal/news-api/operation/page-comment",getCommentReply:"module/default/news/portal/news-api/operation/page-comment-reply",likeComment:"module/default/news/portal/news-api/operation/like-comment",getIsLike:"module/default/news/portal/news-api/operation/isLike",getCommentIsLike:"module/default/news/portal/news-api/operation/is-like-comment",cancelCommentLike:"module/default/news/portal/news-api/operation/cancel-like-comment",deleteComment:"module/default/news/portal/news-api/operation/del-comment",commentNews:"module/default/news/portal/news-api/operation/comment",replyComment:"module/default/news/portal/news-api/operation/reply-comment",shareNews:"module/default/news/portal/news-api/operation/share"}},"8de2":function(e,t,n){var a=n("e51f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("967d").default;o("d8d337e0",a,!0,{sourceMap:!1,shadowMode:!1})},cbfc:function(e,t,n){"use strict";var a=n("8de2"),o=n.n(a);o.a},e51f:function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/**\n * 全局主题色\n *\n * 说明:style外使用，建议采用Vue.prototype.$primaryColor\n */\n/* 主题色样式 */.primary-color[data-v-461f0b28]{color:#007aff}\n/* 主题背景样式 */.primary-bg[data-v-461f0b28]{background:#007aff}\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.page-body[data-v-461f0b28]{height:calc(100vh - var(--window-top) - 0px)}.wrapper[data-v-461f0b28]{height:100%}.editor-wrapper[data-v-461f0b28]{height:calc(100vh - var(--window-top) - 0px - 140px);background:#fff}.iconfont[data-v-461f0b28]{display:inline-block;padding:8px 8px;width:24px;height:24px;cursor:pointer;font-size:20px}.ql-container[data-v-461f0b28]{box-sizing:border-box;padding:12px 15px;width:100%;min-height:30vh;height:100%;font-size:16px;line-height:1.5}.ql-active[data-v-461f0b28]{color:#06c}.btnPublish[data-v-461f0b28]{width:144px;height:48px;color:#fff;background:#007aff;border-radius:24px}.wrapper[data-v-461f0b28]{padding:%?16?% %?30?%;box-sizing:border-box;width:100%;position:fixed;bottom:0;height:98px;background:#fff;box-shadow:0 2px 19px 0 rgba(0,0,0,.08);border-radius:1px;display:flex;justify-content:space-between}.wrapper .toolbar[data-v-461f0b28]{align-items:center;width:122px;height:48px}.wrapper .toolbar .ql-active-bold[data-v-461f0b28]{background:url(http://frontend-dev.oss-cn-hangzhou.aliyuncs.com/modules/news/ic-news-bold-select-icon.png) no-repeat!important;background-size:100%!important}.wrapper .toolbar .ql-active-italic[data-v-461f0b28]{background:url(http://frontend-dev.oss-cn-hangzhou.aliyuncs.com/modules/news/ic-news-italic-select-icon.png) no-repeat!important;background-size:100%!important}.wrapper .toolbar .zitijiacu[data-v-461f0b28]{width:19px;height:25px;background:url(http://frontend-dev.oss-cn-hangzhou.aliyuncs.com/modules/news/ic-news-bold-icon.png) no-repeat;background-size:100%}.wrapper .toolbar .zitixieti[data-v-461f0b28]{width:14px;height:25px;background:url(http://frontend-dev.oss-cn-hangzhou.aliyuncs.com/modules/news/ic-news-italic-icon.png) no-repeat;background-size:100%}.wrapper .toolbar .charutupian[data-v-461f0b28]{width:28px;height:25px;background:url(http://frontend-dev.oss-cn-hangzhou.aliyuncs.com/modules/news/ic-news-editor-img-icon.png) no-repeat;background-size:100%}',""]),e.exports=t},f529:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"page-body"},[n("v-uni-view",{staticClass:"editor-wrapper"},[n("v-uni-editor",{staticClass:"ql-container",attrs:{id:"editor",placeholder:"请输入...",showImgSize:!0,showImgToolbar:!0,showImgResize:!0,"read-only":e.readOnly},on:{statuschange:function(t){arguments[0]=t=e.$handleEvent(t),e.onStatusChange.apply(void 0,arguments)},ready:function(t){arguments[0]=t=e.$handleEvent(t),e.onEditorReady.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),e.blur.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"wrapper"},[n("v-uni-view",{staticClass:"toolbar flex justify-between",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.format.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"zitijiacu",class:e.formats.bold?"ql-active-bold":"",attrs:{"data-name":"bold"}}),n("v-uni-view",{staticClass:"zitixieti",class:e.formats.italic?"ql-active-italic":"",attrs:{"data-name":"italic"}}),n("v-uni-view",{staticClass:"charutupian",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.insertImage.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"fs-18 fw-500 flex-row-center justify-center btnPublish",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.publishBtn.apply(void 0,arguments)}}},[e._v("发布")])],1)],1)},o=[]}}]);