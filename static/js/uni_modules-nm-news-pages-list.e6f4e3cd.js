(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["uni_modules-nm-news-pages-list"],{"084b":function(t,e,n){"use strict";var i=n("d220"),a=n.n(i);a.a},"2cab":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={nmSearchbar:n("8113").default,nmTabs:n("edd5").default,newsListCard:n("abe4").default,newsListSlide:n("73e5").default,newsListNormal:n("3bc2").default,newsWaterfall:n("267b").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"search-bar",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickSearch()}}},[n("nm-searchbar")],1),t.categorys.length>1?n("nm-tabs",{attrs:{list:t.categorys,listKey:"name",height:34,fontWeight:600,paddingX:16,gutter:10,color:"#363A44",activeColor:t.primaryColor,sliderColor:t.primaryColor},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}}):t._e(),n("v-uni-swiper",{staticClass:"swiper-box",attrs:{current:t.tabIndex,duration:300},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onTabChange.apply(void 0,arguments)}}},t._l(t.categorys,(function(e,i){return n("v-uni-swiper-item",{key:i},[n("v-uni-scroll-view",{staticClass:"scroll-v",style:{backgroundColor:t.bgColor},attrs:{enableBackToTop:!0,"scroll-y":!0,"refresher-enabled":!0,"refresher-triggered":t.tabIndex==i&&t.triggered},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore()},refresherrefresh:function(e){arguments[0]=e=t.$handleEvent(e),t.onRefresh.apply(void 0,arguments)}}},[2==t.moduleInfo.style.id?n("v-uni-view",{staticClass:"list-container"},t._l(t.newsList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"list-item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickItem(e)}}},[n("news-list-card",{attrs:{item:e,config:t.moduleInfo}})],1)})),1):3==t.moduleInfo.style.id?t._l(t.newsList,(function(e,i){return n("v-uni-view",{key:i,on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickItem(e)}}},[n("news-list-slide",{attrs:{item:e,config:t.moduleInfo}})],1)})):4==t.moduleInfo.style.id?t._l(t.newsList,(function(e,i){return n("v-uni-view",{key:i,on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickItem(e)}}},[n("news-list-normal",{attrs:{item:e,config:t.moduleInfo,hideCover:!0}})],1)})):5==t.moduleInfo.style.id?n("v-uni-view",[n("news-waterfall",{attrs:{config:t.moduleInfo,listLeft:t.listLeft,listRight:t.listRight},on:{onItem:function(e){arguments[0]=e=t.$handleEvent(e),t.clickItem.apply(void 0,arguments)}}})],1):"CUSTOMIZE"==t.moduleInfo.style.type?t._l(t.newsList,(function(e,i){return n("v-uni-view",{key:i,on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickItem(e)}}},[n("v-uni-view",{domProps:{innerHTML:t._s(t.getFliterRichText(e,t.moduleInfo.style.customizeContent))}})],1)})):t._l(t.newsList,(function(e,i){return n("v-uni-view",{key:i,on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickItem(e)}}},[n("news-list-normal",{attrs:{item:e,config:t.moduleInfo}})],1)}))],2)],1)})),1),t.moduleInfo.canPublishFrontend?n("v-uni-view",{staticClass:"publish"},[n("v-uni-image",{staticClass:"image",attrs:{src:"https://frontend-dev.oss-cn-hangzhou.aliyuncs.com/modules/news/ic-news-publish-btn.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickPublish.apply(void 0,arguments)}}})],1):t._e()],1)},o=[]},"4ecb":function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("9b1b"));n("64aa"),n("4626"),n("bf0f"),n("2797"),n("aa9c"),n("5c47");var o={props:{paddingLeft:{type:Number,default:0},textMargin:{type:String,default:""},list:{type:Array,default:function(){return[]}},color:{type:String,default:function(){return"#333"}},activeColor:{type:String,default:function(){return""}},sliderColor:{type:String,default:function(){return""}},height:{type:Number|String,default:function(){return 40}},slider:{type:Object,default:function(){}},listKey:{type:String,default:function(){return"label"}},background:{type:String,default:function(){return""}},gutter:{type:Number|String,default:function(){return 8}},grow:{type:Boolean,default:function(){return!1}},center:{type:Boolean,default:function(){return!1}},fontSize:{type:Number|String,default:function(){return 14}},fontWeight:{type:Number|String,default:function(){return 600}},value:{type:Number|String,default:function(){return 0}},paddingX:{type:Number|String,default:function(){return 0}}},data:function(){return{tabList:[],animation:!1,windowWidth:0,scrollLeft:0,sInfo:{bottom:2,width:20,height:4,speed:.2,round:!0},current:0}},watch:{value:function(t){var e=this;this.current=t,this.$nextTick((function(){e.scrollLeft=e.sliderX+e.sliderWidth/2-e.windowWidth/2}))}},computed:{sliderX:function(){var t=this.tabList[this.current];return t&&t.info?t.info.left+t.info.width/2-this.sliderWidth/2:0},sliderWidth:function(){var t=this.sInfo.width;if(["auto","grow"].includes(t)){var e=this.tabList[this.current];return e&&e.info?e.info.width:0}return t}},created:function(){var t=this,e=[];this.list.forEach((function(n){"[object Object]"===Object.prototype.toString.call(n)?e.push((0,a.default)((0,a.default)({},n),{},{label:n[t.listKey]})):e.push({label:n})})),this.tabList=e,this.windowWidth=uni.getSystemInfoSync().windowWidth,this.sInfo=(0,a.default)((0,a.default)({},this.sInfo),this.slider)},mounted:function(){var t=this;this.current=+this.value,this.$nextTick((function(){var e=uni.createSelectorQuery().in(t);e.selectAll(".mzy__tab").fields({rect:!0,size:!0},(function(e){e.forEach((function(e,n){t.$set(t.tabList[n],"info",e)})),t.scrollLeft=t.sliderX+t.sliderWidth/2-t.windowWidth/2,t.animation=!0})).exec()}))},methods:{handleChange:function(t,e){var n=this;this.$listeners.willChange?this.$emit("willChange",t,(function(e){e&&n.changeIndex(t)})):this.changeIndex(t)},changeIndex:function(t){this.current=t,this.scrollLeft=this.sliderX+this.sliderWidth/2-this.windowWidth/2,this.$emit("input",t),this.$emit("change",t,this.list[t])}}};e.default=o},"6c9f":function(t,e,n){"use strict";n.r(e);var i=n("2cab"),a=n("765f");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("084b");var r=n("828b"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"59195a1c",null,!1,i["a"],void 0);e["default"]=s.exports},"765f":function(t,e,n){"use strict";n.r(e);var i=n("c55e"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},c55e:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("3efd"),n("5ef2"),n("fd3c"),n("5c47"),n("a1c1"),n("45da"),n("c223"),n("bf0f"),n("2797"),n("aa9c");var a=i(n("6a10")),o=i(n("61fc")),r={data:function(){return{primaryColor:"",tabIndex:0,triggered:!1,moduleId:"",moduleInfo:{style:1},categorys:[],listTotal:0,newsList:[],listParam:{pageNo:1,moduleId:"",classificationId:""},listLeft:[],listRight:[]}},onLoad:function(t){this.primaryColor=this.$primaryColor,this.moduleId=t.id||"1496370779755597826",this.$set(this.listParam,"moduleId",this.moduleId),this.loadModuleInfo(),this.loadCategory()},onShow:function(){},watch:{tabIndex:{handler:function(t){this.$set(this.listParam,"classificationId",this.categorys[t].id),this.listParam.pageNo=1,this.loadNewsList()}}},computed:{bgColor:function(){var t=this.moduleInfo.style.id;return 2==t||5==t?"#F6F7F8":""}},methods:{loadCategory:function(){var t=this;this.$http.get(a.default.getNewsCategory,{isTree:!1,moduleId:this.moduleId}).then((function(e){t.categorys=e.result,console.log("that.categorys",t.categorys),t.categorys.unshift({name:"全部",id:""}),t.loadNewsList()}))},loadModuleInfo:function(){var t=this;this.$http.get(a.default.getNewsModule,{id:this.moduleId}).then((function(e){t.moduleInfo=e.result,uni.setNavigationBarTitle({title:e.result.name}),t.moduleInfo.isLike=-1!=e.result.supportOperation.indexOf("LIKE")}))},loadNewsList:function(){var t=this;this.$http.get(a.default.getNewsList,this.listParam).then((function(e){t.listTotal=e.result.total;e.result.records.map((function(t){if(t.cover){var e=t.cover.split(",");t.cover=e["0"]||"",t.covers=e}try{var n,i=new Date(null===(n=t.createTime)||void 0===n?void 0:n.replaceAll("-","/"));t.formatTime=o.default.beforeTime(i.getTime())}catch(a){console.log(a)}return t}));1==t.listParam.pageNo?t.newsList=e.result.records:t.newsList=t.newsList.concat(e.result.records),5==t.moduleInfo.style.id&&(t.listLeft=[],t.listRight=[],t.newsList.forEach((function(e,n){n%2==0?t.listLeft.push(e):t.listRight.push(e)}))),setTimeout((function(){t.triggered=!1}),200)}))},onRefresh:function(){this.triggered=!0,this.listParam.pageNo=1,this.loadNewsList()},loadMore:function(){this.newsList.length>=this.listTotal||(this.listParam.pageNo+=1,this.loadNewsList())},onTabChange:function(t){var e=t.target.current||t.detail.current;this.tabIndex=e},clickSearch:function(){uni.navigateTo({url:"./search?moduleId="+this.moduleId})},clickItem:function(t){uni.navigateTo({url:"./detail?id="+t.id})},clickPublish:function(){uni.navigateTo({url:"./publish?moduleId=".concat(this.moduleId)})},getFliterRichText:function(t,e){var n=e;for(var i in t)n=n.replace("{{"+i+"}}",t[i]);return n}}};e.default=r},c9c6:function(t,e,n){"use strict";var i=n("e907"),a=n.n(i);a.a},d220:function(t,e,n){var i=n("efea");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("c1c72268",i,!0,{sourceMap:!1,shadowMode:!1})},e907:function(t,e,n){var i=n("fabd");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("6617c5be",i,!0,{sourceMap:!1,shadowMode:!1})},edd5:function(t,e,n){"use strict";n.r(e);var i=n("f3d3"),a=n("fd28");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("c9c6");var r=n("828b"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"020ac44a",null,!1,i["a"],void 0);e["default"]=s.exports},efea:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,"uni-page-body[data-v-59195a1c]{background-color:#fff;height:100%}body.?%PAGE?%[data-v-59195a1c]{background-color:#fff}.container[data-v-59195a1c]{height:100%;display:flex;overflow:hidden;flex-flow:column}.search-bar[data-v-59195a1c]{margin-top:1px;padding:14px 16px;background-color:#fff;padding-bottom:8px}.swiper-box[data-v-59195a1c]{flex:1;width:100%}.swiper-item[data-v-59195a1c]{flex:1;flex-direction:row}.scroll-v[data-v-59195a1c]{width:100%;height:100%}.list-container[data-v-59195a1c]{padding:16px;display:flex;flex-wrap:wrap;background-color:#f6f7f8;justify-content:space-between}.list-container .list-item[data-v-59195a1c]{width:calc(50% - 4px);margin-bottom:%?16?%}.publish[data-v-59195a1c]{z-index:1000;position:fixed;bottom:%?160?%;right:0}.publish .image[data-v-59195a1c]{width:90px;height:90px}",""]),t.exports=e},f3d3:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"nm-tabs",style:{height:t.height+"px"}},[n("v-uni-scroll-view",{staticClass:"mt__main",style:{background:"",height:t.height+"px"},attrs:{"scroll-x":!0,"scroll-left":t.scrollLeft,"scroll-with-animation":!0,"scroll-anchoring":!0,enhanced:!0,"show-scrollbar":!1}},[t.center?n("v-uni-view",{staticClass:"mm__center__tab mt__row__center"},t._l(t.tabList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"mct__item mt__row__center",style:{margin:"0 "+t.gutter+"px"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleChange(i,e)}}},[n("v-uni-text",{staticClass:"mzy__tab",style:{margin:t.textMargin,"font-size":t.fontSize+"px","font-weight":t.fontWeight,color:t.current==i&&t.activeColor||t.color}},[t._v(t._s(e.label))])],1)})),1):t.grow?n("v-uni-view",{staticClass:"mm__grow__tab"},t._l(t.tabList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"mgt__item mt__row__center",class:{mzy__tab:"auto"!=t.sInfo.width},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleChange(i,e)}}},[n("v-uni-text",{class:{mzy__tab:"auto"===t.sInfo.width},style:{margin:t.textMargin,"font-size":t.fontSize+"px","font-weight":t.fontWeight,color:t.current==i&&t.activeColor||t.color}},[t._v(t._s(e.label))])],1)})),1):t._l(t.tabList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"mm__tab mzy__tab",style:{margin:"0 "+(i+1==t.tabList.length&&t.paddingX||t.gutter)+"px 0 "+(0==i&&t.paddingX||t.gutter)+"px","line-height":t.height+"px"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleChange(i,e)}}},[n("v-uni-view",{style:{margin:t.textMargin,"font-size":t.fontSize+"px","font-weight":t.fontWeight,color:t.current==i&&t.activeColor||t.color}},[t._v(t._s(e.label))])],1)})),t.animation?n("v-uni-view",{staticClass:"mm__slider",style:{transition:"left "+(t.animation?t.sInfo.speed:0)+"s linear",width:t.sliderWidth+"px",left:t.sliderX-t.paddingLeft+"px",top:t.height-t.sInfo.bottom-t.sInfo.height+"px",height:t.sInfo.height+"px",background:t.sInfo.color||t.sliderColor||t.color,"border-radius":t.sInfo.round?"100px":"unset"}}):t._e()],2)],1)},a=[]},fabd:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/**\n * 全局主题色\n *\n * 说明:style外使用，建议采用Vue.prototype.$primaryColor\n */\n/* 主题色样式 */.primary-color[data-v-020ac44a]{color:#007aff}\n/* 主题背景样式 */.primary-bg[data-v-020ac44a]{background:#007aff}\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.nm-tabs .mt__row__center[data-v-020ac44a]{display:flex;align-items:center;justify-content:center}.nm-tabs .mt__main[data-v-020ac44a]{overflow:auto;width:100%;white-space:nowrap;position:relative}.nm-tabs .mt__main[data-v-020ac44a]::-webkit-scrollbar{display:none}.nm-tabs .mt__main .mm__tab[data-v-020ac44a]{display:inline-block}.nm-tabs .mt__main .mm__slider[data-v-020ac44a]{position:absolute;will-change:transform}.nm-tabs .mt__main .mm__grow__tab[data-v-020ac44a]{display:flex;height:100%;align-items:center}.nm-tabs .mt__main .mm__grow__tab .mgt__item[data-v-020ac44a]{flex:1;height:100%}.nm-tabs .mt__main .mm__center__tab[data-v-020ac44a]{height:100%}.nm-tabs .mt__main .mm__center__tab .mct__item[data-v-020ac44a]{height:100%}',""]),t.exports=e},fd28:function(t,e,n){"use strict";n.r(e);var i=n("4ecb"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a}}]);